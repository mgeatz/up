<section class="planning_wizard row">

  <div class="col-xs-12 col-sm-8 col-md-8">
    <ol class="breadcrumb">

      {{#if step1}}
        <li class="current {{if arizona 'b_az' ''}} {{if minnesota 'b_mn' ''}}" {{action "editDetails" on="click"}}>
          <a class="btn btn-primary" style="padding-top: 32px;">DETAILS</a>
        </li>
      {{else}}
        <li>
          <a class="btn btn-primary" style="padding-top: 32px;">DETAILS</a>
        </li>
      {{/if}}

      {{#if step2}}
        <li class="current {{if arizona 'b_az' ''}} {{if minnesota 'b_mn' ''}}">
          <a class="btn btn-primary" style="padding-top: 32px;">FLIGHTS</a>
        </li>
      {{else}}
        <li>
          <a class="btn btn-primary" style="padding-top: 32px;">FLIGHTS</a>
        </li>
      {{/if}}

      {{#if step3}}
        <li class="current {{if arizona 'b_az' ''}} {{if minnesota 'b_mn' ''}}">
          <a class="btn btn-primary" style="padding-top: 32px;">BOOK IT</a>
        </li>
      {{else}}
        <li>
          <a class="btn btn-primary" style="padding-top: 32px;">BOOK IT</a>
        </li>
      {{/if}}

    </ol>

    {{!to}}
    {{#if step0}}
      <div class="fly_to">
        {{#if departFrom}}
          <p>I'll be departing from:</p>
          <button class="btn btn-default {{if arizona 'btn-warning' 'btn-default'}}" {{action "selectDeparture" "az"}}>
            ARIZONA
          </button>
          <button class="btn btn-default {{if minnesota 'btn-primary' 'btn-default'}}" {{action "selectDeparture"
                                                                                                "mn"}}>
            MINNESOTA
          </button>
          <br>
          <br>
        {{/if}}
        <label>How many travelers?
          <select value={{numberOfTravelers}} class="numberOfTravelers"
            {{action "desiredCapacity" on="change"}}>
            <option value="1">1</option>
            <option>2</option>
            <option>3</option>
            <option>4</option>
            <option>5</option>
            <option>6</option>
            <option>7</option>
            <option>8</option>
            <option>9</option>
            <option>10</option>
          </select>
          <i class="fas fa-arrows-alt-v hidden-sm hidden-md hidden-lg"></i>
        </label>
        <br>
        <label>When are you departing?
          {{pikaday-input class="date_picker"
                          value=dateOfDeparture
                          minDate=minDate
                          format="MM/DD/YYYY"
                          onClose=(action "pickDate" "depart")
                          placeholder="MM/DD/YYYY"}}
        </label>
        <br>
        <label>Do you want a return flight?
          {{pikaday-input class="date_picker_return"
                          value=dateOfReturn
                          minDate=minDate
                          format="MM/DD/YYYY"
                          onClose=(action "pickDate" "return")
                          placeholder="MM/DD/YYYY"}}
        </label>
        <br>
        {{#if dateOfDeparture}}
          <div class="wizard_nav_buttons">
            <div class="btn-group" role="group" aria-label="...">
              <!--<button type="button" class="btn btn-default" {{action "editDetails"}}>BACK</button>-->
              <button type="button" class="btn btn-success" {{action "findFlights"}}>NEXT</button>
            </div>
          </div>
        {{/if}}
      </div>
    {{/if}}

    {{#if flightPicker}}
      <a class="back_to" {{action "backToDetails"}}><sup>← BACK TO DETAILS</sup></a>
      {{flight-picker departFrom=departFrom
                      numberOfTravelers=numberOfTravelers
                      dateOfDeparture=dateOfDeparture
                      dateOfReturn=dateOfReturn
                      arizona=arizona
                      minnesota=minnesota
                      flightDetails='flightDetails'}}
    {{/if}}

    {{#if bookIt}}
      <a class="back_to" {{action "backToFlights"}}><sup>← BACK TO FLIGHTS</sup></a>
      <h2>Last Step!</h2>
      If this were not a simulation, would you actually book this trip? If so, click the "Book It" button.
      <div class="container architect special_letter">
        <h3>Book It</h3>
        <hr>
        <div class="row">
          <div class="col-sm-6">
            OUTBOUND Travel Route:<br>{{#if minnesota}}MINNESOTA to ARIZONA{{/if}}
            {{#if arizona}}ARIZONA to MINNESOTA{{/if}}<br><br>
            Total Travelers: {{numberOfTravelers}}<br><br>
            Departure Date: {{dateOfDeparture}} {{#if timeOfDeparture}}@ {{timeOfDeparture}}{{/if}}<br><br>
            Outbound Flight: {{outboundFlight}}<br>
            <sup>Takeoff: {{outboundFlightTakeoff}}, Landing: {{outboundFlightLanding}}</sup><br>
						<sup>Seats: {{#each outboundFlightSeats as |outboundseat|}}{{outboundseat}}, {{/each}}</sup>
          </div>
          <div class="col-sm-6">
            {{#if dateOfReturn}}
              RETURN Travel Route:<br>{{#if minnesota}}ARIZONA to MINNESOTA{{/if}}
              {{#if arizona}}MINNESOTA to ARIZONA{{/if}}<br><br>
              Total Travelers: {{numberOfTravelers}}<br><br>
              Return Date: {{dateOfReturn}}<br><br>
              Return Flight: {{returnFlight}}<br>
              <sup>Takeoff: {{returnFlightTakeoff}}, Landing: {{returnFlightLanding}}</sup><br>
							<sup>Seats: {{#each returnFlightSeats as |returnseat|}}{{returnseat}}, {{/each}}</sup>
              <br><br>
            {{/if}}
          </div>
        </div>
        {{#if totalMoney}}
          <button class="btn btn-success" {{action "successfullyBook"}}>Book It</button>
          <h3>Total $: {{totalMoney}}</h3>
        {{/if}}
      </div>
    {{/if}}
  </div>
  <div class="col-xs-12 col-sm-4 col-md-4">
    <div class="itinerary architect special_letter">
      <h3>Trip Preview</h3>
      <hr>
      {{#if step1}}
        Travel Route:{{#if minnesota}}MINNESOTA to ARIZONA{{/if}}
        {{#if arizona}}ARIZONA to MINNESOTA{{/if}}<br><br>
        Total Travelers: {{numberOfTravelers}}<br><br>
        {{#if dateOfDeparture}}
          Departure Date: {{dateOfDeparture}} {{#if timeOfDeparture}}@ {{timeOfDeparture}}{{/if}}<br><br>
          {{#if dateOfReturn}}
            Return Date: {{dateOfReturn}} {{#if timeOfReturn}}@ {{timeOfReturn}}{{/if}}<br><br>
          {{else}}
            Return Date: NONE<br><br>
          {{/if}}
        {{/if}}
        Outbound Flight: {{outboundFlight}}<br>
        <sup>Takeoff: {{outboundFlightTakeoff}}, Landing: {{outboundFlightLanding}}</sup><br>
				<sup>Seats: {{#each outboundFlightSeats as |outboundseat|}}{{outboundseat}}, {{/each}}</sup>
        <br><br>
        {{#if dateOfReturn}}Return Flight: {{returnFlight}}<br>
          <sup>Takeoff: {{returnFlightTakeoff}}, Landing: {{returnFlightLanding}}</sup><br>
          <sup>Seats: {{#each returnFlightSeats as |returnseat|}}{{returnseat}}, {{/each}}</sup>
          <br><br>{{/if}}
        {{#if totalMoney}}
          <h4>Total $: {{totalMoney}}</h4>
        {{/if}}
      {{/if}}
    </div>
  </div>
</section>
